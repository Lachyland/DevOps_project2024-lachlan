function cov_1myxxszjit(){var path="C:\\Users\\GIGABYTE G5\\Desktop\\Devops\\Individual-project-lachlan\\DevOps_project2024-lachlan\\utils\\add-studentUtil.js";var hash="eb315fecf2e0a7e581bafb56a30cd81fabf85c54";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\GIGABYTE G5\\Desktop\\Devops\\Individual-project-lachlan\\DevOps_project2024-lachlan\\utils\\add-studentUtil.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:33}},"1":{start:{line:4,column:4},end:{line:30,column:5}},"2":{start:{line:5,column:60},end:{line:5,column:68}},"3":{start:{line:8,column:29},end:{line:8,column:75}},"4":{start:{line:9,column:25},end:{line:9,column:49}},"5":{start:{line:12,column:27},end:{line:18,column:9}},"6":{start:{line:21,column:8},end:{line:21,column:34}},"7":{start:{line:24,column:8},end:{line:24,column:82}},"8":{start:{line:27,column:8},end:{line:27,column:48}},"9":{start:{line:29,column:8},end:{line:29,column:64}},"10":{start:{line:33,column:0},end:{line:33,column:32}}},fnMap:{"0":{name:"addStudent",decl:{start:{line:3,column:15},end:{line:3,column:25}},loc:{start:{line:3,column:36},end:{line:31,column:1}},line:3}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eb315fecf2e0a7e581bafb56a30cd81fabf85c54"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1myxxszjit=function(){return actualCoverage;};}return actualCoverage;}cov_1myxxszjit();const fs=(cov_1myxxszjit().s[0]++,require('fs').promises);// For working with file system asynchronously
async function addStudent(req,res){cov_1myxxszjit().f[0]++;cov_1myxxszjit().s[1]++;try{const{adminNumber,name,diploma,cGPA,image}=(cov_1myxxszjit().s[2]++,req.body);// Read the existing students from the JSON file
const studentsData=(cov_1myxxszjit().s[3]++,await fs.readFile('studentdata.json','utf-8'));const students=(cov_1myxxszjit().s[4]++,JSON.parse(studentsData));// Parse the JSON data
// Create a new student object
const newStudent=(cov_1myxxszjit().s[5]++,{adminNumber,name,diploma,cGPA:parseFloat(cGPA),// Convert cGPA to number
image});// Add the new student to the array
cov_1myxxszjit().s[6]++;students.push(newStudent);// Save the updated students array back to the JSON file
cov_1myxxszjit().s[7]++;await fs.writeFile('studentdata.json',JSON.stringify(students,null,2));// Return the added student in the response
cov_1myxxszjit().s[8]++;return res.status(201).json(newStudent);}catch(error){cov_1myxxszjit().s[9]++;return res.status(500).json({message:error.message});}}cov_1myxxszjit().s[10]++;module.exports={addStudent};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW15eHhzemppdCIsImFjdHVhbENvdmVyYWdlIiwiZnMiLCJzIiwicmVxdWlyZSIsInByb21pc2VzIiwiYWRkU3R1ZGVudCIsInJlcSIsInJlcyIsImYiLCJhZG1pbk51bWJlciIsIm5hbWUiLCJkaXBsb21hIiwiY0dQQSIsImltYWdlIiwiYm9keSIsInN0dWRlbnRzRGF0YSIsInJlYWRGaWxlIiwic3R1ZGVudHMiLCJKU09OIiwicGFyc2UiLCJuZXdTdHVkZW50IiwicGFyc2VGbG9hdCIsInB1c2giLCJ3cml0ZUZpbGUiLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFkZC1zdHVkZW50VXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJykucHJvbWlzZXM7IC8vIEZvciB3b3JraW5nIHdpdGggZmlsZSBzeXN0ZW0gYXN5bmNocm9ub3VzbHlcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZFN0dWRlbnQocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBhZG1pbk51bWJlciwgbmFtZSwgZGlwbG9tYSwgY0dQQSwgaW1hZ2UgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAvLyBSZWFkIHRoZSBleGlzdGluZyBzdHVkZW50cyBmcm9tIHRoZSBKU09OIGZpbGVcclxuICAgICAgICBjb25zdCBzdHVkZW50c0RhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZSgnc3R1ZGVudGRhdGEuanNvbicsICd1dGYtOCcpO1xyXG4gICAgICAgIGNvbnN0IHN0dWRlbnRzID0gSlNPTi5wYXJzZShzdHVkZW50c0RhdGEpOyAvLyBQYXJzZSB0aGUgSlNPTiBkYXRhXHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBzdHVkZW50IG9iamVjdFxyXG4gICAgICAgIGNvbnN0IG5ld1N0dWRlbnQgPSB7XHJcbiAgICAgICAgICAgIGFkbWluTnVtYmVyLFxyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICBkaXBsb21hLFxyXG4gICAgICAgICAgICBjR1BBOiBwYXJzZUZsb2F0KGNHUEEpLCAvLyBDb252ZXJ0IGNHUEEgdG8gbnVtYmVyXHJcbiAgICAgICAgICAgIGltYWdlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgc3R1ZGVudCB0byB0aGUgYXJyYXlcclxuICAgICAgICBzdHVkZW50cy5wdXNoKG5ld1N0dWRlbnQpO1xyXG5cclxuICAgICAgICAvLyBTYXZlIHRoZSB1cGRhdGVkIHN0dWRlbnRzIGFycmF5IGJhY2sgdG8gdGhlIEpTT04gZmlsZVxyXG4gICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZSgnc3R1ZGVudGRhdGEuanNvbicsIEpTT04uc3RyaW5naWZ5KHN0dWRlbnRzLCBudWxsLCAyKSk7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgYWRkZWQgc3R1ZGVudCBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24obmV3U3R1ZGVudCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBhZGRTdHVkZW50IH07XHJcbiJdLCJtYXBwaW5ncyI6IjZnREFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLEVBQUUsRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsUUFBUSxFQUFFO0FBRW5DLGNBQWUsQ0FBQUMsVUFBVUEsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLENBQUUsQ0FBQVIsY0FBQSxHQUFBUyxDQUFBLE1BQUFULGNBQUEsR0FBQUcsQ0FBQSxNQUNoQyxHQUFJLENBQ0EsS0FBTSxDQUFFTyxXQUFXLENBQUVDLElBQUksQ0FBRUMsT0FBTyxDQUFFQyxJQUFJLENBQUVDLEtBQU0sQ0FBQyxFQUFBZCxjQUFBLEdBQUFHLENBQUEsTUFBR0ksR0FBRyxDQUFDUSxJQUFJLEVBRTVEO0FBQ0EsS0FBTSxDQUFBQyxZQUFZLEVBQUFoQixjQUFBLEdBQUFHLENBQUEsTUFBRyxLQUFNLENBQUFELEVBQUUsQ0FBQ2UsUUFBUSxDQUFDLGtCQUFrQixDQUFFLE9BQU8sQ0FBQyxFQUNuRSxLQUFNLENBQUFDLFFBQVEsRUFBQWxCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHZ0IsSUFBSSxDQUFDQyxLQUFLLENBQUNKLFlBQVksQ0FBQyxFQUFFO0FBRTNDO0FBQ0EsS0FBTSxDQUFBSyxVQUFVLEVBQUFyQixjQUFBLEdBQUFHLENBQUEsTUFBRyxDQUNmTyxXQUFXLENBQ1hDLElBQUksQ0FDSkMsT0FBTyxDQUNQQyxJQUFJLENBQUVTLFVBQVUsQ0FBQ1QsSUFBSSxDQUFDLENBQUU7QUFDeEJDLEtBQ0osQ0FBQyxFQUVEO0FBQUFkLGNBQUEsR0FBQUcsQ0FBQSxNQUNBZSxRQUFRLENBQUNLLElBQUksQ0FBQ0YsVUFBVSxDQUFDLENBRXpCO0FBQUFyQixjQUFBLEdBQUFHLENBQUEsTUFDQSxLQUFNLENBQUFELEVBQUUsQ0FBQ3NCLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBRUwsSUFBSSxDQUFDTSxTQUFTLENBQUNQLFFBQVEsQ0FBRSxJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FFekU7QUFBQWxCLGNBQUEsR0FBQUcsQ0FBQSxNQUNBLE1BQU8sQ0FBQUssR0FBRyxDQUFDa0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNOLFVBQVUsQ0FBQyxDQUMzQyxDQUFFLE1BQU9PLEtBQUssQ0FBRSxDQUFBNUIsY0FBQSxHQUFBRyxDQUFBLE1BQ1osTUFBTyxDQUFBSyxHQUFHLENBQUNrQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFFRSxPQUFPLENBQUVELEtBQUssQ0FBQ0MsT0FBUSxDQUFDLENBQUMsQ0FDM0QsQ0FDSixDQUFDN0IsY0FBQSxHQUFBRyxDQUFBLE9BRUQyQixNQUFNLENBQUNDLE9BQU8sQ0FBRyxDQUFFekIsVUFBVyxDQUFDIiwiaWdub3JlTGlzdCI6W119